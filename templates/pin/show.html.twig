{% extends 'base.html.twig' %}
{% block stylesheets %}
    {{ encore_entry_link_tags('app') }}
    {{ encore_entry_link_tags('pin') }}
{% endblock %}
{% block title %}Pin{% endblock %}

{% block content %}
<div class="p-5">
<h1 class="text-3xl font-bold text-gray-700 mb-8 text-center title">{{ pin.title }}</h1>
<div class="p-5 text-center">
        <p class="text-xl">{{ pin.description|raw }}</p>
        </div>
<div class="relative w-full max-w-md mx-auto overflow-hidden rounded-2xl">
  <div id="carousel" class="flex transition-transform duration-500 ease-in-out">
    {% for img in pin.images %}
      <div class="min-w-full aspect-square overflow-hidden">
        <img
          src="{{ asset('uploads/pins/' ~ img.filename) }}"
          alt="Imagen {{ loop.index }}"
          class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
        >
      </div>
    {% endfor %}
  </div>

  <!-- Botón anterior -->
  <button id="prev" class="absolute left-2 top-1/2 -translate-y-1/2 bg-black/40 text-white p-2 rounded-full hover:bg-black/70">
    ‹
  </button>

  <!-- Botón siguiente -->
  <button id="next" class="absolute right-2 top-1/2 -translate-y-1/2 bg-black/40 text-white p-2 rounded-full hover:bg-black/70">
    ›
  </button>
</div>

</div>
{% endblock %}

{% block javascripts %}
<script>
  const carousel = document.getElementById('carousel');
  const next = document.getElementById('next');
  const prev = document.getElementById('prev');

  let index = 0;
  const slides = carousel.children.length;

  function updateCarousel() {
    carousel.style.transform = `translateX(-${index * 100}%)`;
  }

  next.addEventListener('click', () => {
    index = (index + 1) % slides;
    updateCarousel();
  });

  prev.addEventListener('click', () => {
    index = (index - 1 + slides) % slides;
    updateCarousel();
  });
</script>
{% endblock %}
